image: registry.git.fh-aachen.de/docker-images/gcc-arm-none-eabi-image

.common:
  before_script:
    - cd examples/$EXAMLE_FOLDER
    - mkdir build && cd build
  script:
    - cmake ..
    - make -j 4
  tags:
    - shared

msp432_examples:
  extends: .common
  variables:
    EXAMLE_FOLDER: "msp432-launchpad"
  only:
    changes:
      - .gitlab-ci.yml
      - cmake/**/*
      - include/**/*
      - lib/**/*
      - src/**/*
      - tools/**/*
      - examples/msp432-launchpad/**/*

rp2040_examples:
  extends: .common
  variables:
    EXAMLE_FOLDER: "rp2040-launchpad"
  only:
    changes:
      - .gitlab-ci.yml
      - cmake/**/*
      - include/**/*
      - lib/**/*
      - src/**/*
      - tools/**/*
      - examples/rp2040-launchpad/**/*
